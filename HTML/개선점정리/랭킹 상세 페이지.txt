프로젝트 랭킹 동향 분석 대시보드 기획 및 정책

1. 프로젝트 개요

프로젝트명: 챌린지 랭킹 동향 분석 대시보드

목표: 프로젝트 참가자 및 평가자가 주간 챌린지의 랭킹 및 스코어 변화 추이를 직관적으로 파악하고, 핵심 기여 지표(투표, 댓글 등)의 증감 동향을 분석할 수 있는 단일 페이지 대시보드를 제공합니다.

대상 사용자: 챌린지 참가자, 평가자(Voter), 일반 방문자(Public).

2. 핵심 기능 및 UI/UX 정책

2.1. 탭 구성 및 전환 정책

탭 이름

목적

기본 표시 데이터

UI/UX 정책

📊 랭킹 추이

상위권 프로젝트의 순위 변동을 집중 비교

최종 랭킹 기준 Top 5 프로젝트의 주간 랭킹 변화 (선택 없을 시)

Y축을 1위부터 5위까지만 표시하고 순위가 높을수록 차트 상단에 위치하도록 Y축을 역순(Reverse) 처리하여 상위권 경쟁 구도를 강조합니다.

📈 스코어 및 상세 지표

선택된 프로젝트의 상세 스코어 및 기여 지표 분석

사용자가 선택한 프로젝트 (최대 3개)의 주간 스코어 변화 및 상세 지표

상세 기여 지표(투표, 댓글, 추천)는 접근 권한 정책에 따라 표시 여부를 결정합니다.

2.2. 프로젝트 선택 및 비교 정책

최대 선택 개수: 사용자는 아래 목록에서 최대 3개의 프로젝트만 선택하여 비교할 수 있습니다.

선택 방식: 프로젝트 카드 클릭 시 선택/해제되며, 선택된 카드는 파란색 ring 스타일로 시각적 피드백을 제공합니다.

차트 반영:

스코어 탭: 선택된 프로젝트 1~3개의 스코어 그래프만 표시됩니다.

랭킹 탭: 선택된 프로젝트가 있으면 선택된 프로젝트의 랭킹 추이를 표시하며, 선택이 없으면 기본적으로 Top 5를 표시합니다.

2.3. 프로젝트 목록 (카드) 정책

정보 표시: 각 프로젝트 카드는 이름, 최종 스코어, 최종 랭킹, 주간 스코어 변화량(증감), 그리고 미니 스코어 차트(7일)를 포함합니다.

정렬 기능: 사용자는 '최종 랭킹(기본값)', '최종 스코어', '이름(가나다순)', '주간 변화량'을 기준으로 목록을 정렬할 수 있습니다.

미니 차트: 프로젝트별 스코어 추이의 대략적인 흐름을 카드 내에서 빠르게 확인할 수 있도록 선 그래프를 제공합니다.

3. 데이터 모델 및 로직 정책

3.1. 모의 데이터 구조

각 프로젝트는 다음과 같은 핵심 속성을 갖습니다.

id: 프로젝트 고유 ID

name: 프로젝트 이름

finalScore: 최종 점수 (Day 7)

scores: 7일간의 일별 랭킹 스코어 배열

ranks: scores를 기반으로 계산된 7일간의 일별 랭킹 배열

dailyMetrics: 일별 투표, 댓글, 추천 등 상세 기여 지표 증감량 배열 (민감 데이터)

3.2. 랭킹 계산 정책

원칙: 랭킹은 일별 스코어를 기준으로 계산되며, 스코어가 높은 프로젝트가 낮은 랭크(순위)를 가집니다.

동점 처리: 동점인 경우 동일한 랭크를 부여하고, 다음 순위는 건너뛰는 방식(예: 1위, 1위, 3위)을 적용합니다. (코드상에서는 현재 i+1 방식으로 구현되었으나, 동점 시 랭크를 유지하도록 로직을 반영해야 함).

3.3. 차트 시각화 정책

기술: Chart.js 라이브러리 사용

랭킹 차트 (핵심 정책):

Y축 (max): TOP_N_RANK_DEFAULT (현재 5)으로 고정하여 5위 초과의 순위는 차트 영역 밖으로 밀려나 상위권 집중도를 높임.

Y축 (reverse): true (역순)로 설정하여 1위가 차트의 최상단에 위치하도록 구현.

스코어 차트:

Y축 (reverse): false (정순)로 설정하여 점수가 높을수록 차트 상단에 위치하도록 구현.

4. 접근 권한 및 보안 정책

4.1. 접근 제어 항목

데이터 항목

접근 권한

정책 상세

랭킹 추이 그래프

Public (익명 사용자 포함)

모든 사용자에게 공개됩니다.

스코어 추이 그래프

Public (익명 사용자 포함)

모든 사용자에게 공개됩니다.

프로젝트 카드 요약

Public (익명 사용자 포함)

모든 사용자에게 공개됩니다. (스코어, 랭크, 요약 변화율)

일별 상세 기여 지표 (dailyMetrics 테이블)

Voter (인증된 사용자)

상세 투표, 댓글, 추천 증감 지표는 window.isVoter 플래그가 true일 때만 표시됩니다.

4.2. 인증 처리 정책

인증 의존성: Firebase Authentication을 사용하여 사용자 권한을 처리합니다.

Voter 권한 부여:

__initial_auth_token이 제공되는 경우 $\rightarrow$ signInWithCustomToken을 통해 인증 $\rightarrow$ window.isVoter = true 설정.

토큰이 없는 경우 $\rightarrow$ signInAnonymously를 통해 인증 $\rightarrow$ window.isVoter = false 설정.

익명 사용자 피드백: 상세 지표 탭에서 익명 사용자(isVoter: false)는 데이터 대신 접근 제한 메시지를 명확하게 표시합니다.

5. 기술 스택

프론트엔드: HTML5, JavaScript (ES6+)

스타일링: Tailwind CSS (다크 모드 디자인 및 반응형 레이아웃)

데이터 시각화: Chart.js v4.x

데이터 저장/인증: Firebase (Firestore 및 Authentication) - (현재는 Mock Data로 대체되어 있으나, 실제 서비스 환경을 고려한 아키텍처임)